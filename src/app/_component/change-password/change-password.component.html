<div class="container-scroller">
    <bs-header></bs-header>
    <div class="container-fluid page-body-wrapper">
        <bs-sidebar></bs-sidebar>
        <div class="main-panel">
            <div class="content-wrapper">
                <div>
                    <mat-card class="example-card mat-elevation-z8">
                        <mat-card-header>
                            <mat-card-title>User: {{ model.token_data.name }}</mat-card-title>
                        </mat-card-header>
                        <mat-card-content>
                            <form class="example-form" #formControl="ngForm">
                                <table class="example-full-width" cellspacing="0">
                                    <tr>
                                        <td>
                                            <mat-form-field class="example-full-width">
                                                <input matInput placeholder="Your current password" [(ngModel)]="model.form.current_password" name="current_password" [type]="hide1 ? 'password' : 'text'" required>
                                                <button mat-icon-button matSuffix (click)="hide1 = !hide1" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide1" tabindex="-1">
                                                    <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                                </button>
                                            </mat-form-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <mat-form-field class="example-full-width">
                                                <input matInput placeholder="Your new password" [(ngModel)]="model.form.new_password" type="new_password" [type]="hide2 ? 'password' : 'text'" name="new_password" required>
                                                <button mat-icon-button matSuffix (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide2" tabindex="-1">
                                                    <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                                </button>
                                            </mat-form-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <mat-form-field class="example-full-width">
                                                <input matInput placeholder="Password confirmation" [(ngModel)]="model.form.confirm_password" type="confirm_password" [type]="hide3 ? 'password' : 'text'" name="confirm_password" required>
                                                <button mat-icon-button matSuffix (click)="hide3 = !hide3" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide3" tabindex="-1">
                                                    <mat-icon>{{hide3 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                            </button>
                                            </mat-form-field>
                                            <mat-error *ngIf="model.form.new_password!=model.form.confirm_password">Password and confirmation does not match.</mat-error>
                                        </td>

                                    </tr>
                                </table>
                            </form>
                        </mat-card-content>
                        <mat-card-actions>
                            <button mat-button (click)="changePassword()" [disabled]="!formControl.valid || (model.form.new_password!=model.form.confirm_password)">Change
                                password</button>
                        </mat-card-actions>
                    </mat-card>
                </div>
            </div>
            <bs-footer></bs-footer>
        </div>
    </div>
</div>