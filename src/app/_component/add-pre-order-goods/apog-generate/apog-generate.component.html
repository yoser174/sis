<ngx-spinner type="square-jelly-box">
    <p style="color: white"> Loading... </p>
</ngx-spinner>
<div class="container-scroller">
    <bs-header></bs-header>
    <div class="container-fluid page-body-wrapper">
        <bs-sidebar></bs-sidebar>
        <div class="main-panel">
            <div class="content-wrapper">
                <div>
                    <mat-card class="mat-elevation-z8">
                        <mat-card-title></mat-card-title>
                        <mat-card-content>

                            <form *ngIf="goodsForm" [formGroup]="goodsForm">
                                <table class="table table-sm">
                                    <thead>
                                        <tr class="text-center">
                                            <th>No Catalog</th>
                                            <th>Description</th>
                                            <th>Quantity</th>
                                            <th>
                                                <button mat-icon-button color="primary">
                                                        <mat-icon aria-label="Add goods" (click)="addGoods()">add</mat-icon>
                                                      </button>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody formArrayName="goods">
                                        <tr *ngFor="let item of goodsForm.get('goods')['controls'] ; let $index=index" [formGroupName]="$index">
                                            <td>{{ item.get('no_catalog').value }}</td>
                                            <td>{{ item.get('description').value }}</td>
                                            <td style="min-width: 120px">
                                                <input class="form-control" type="text" formControlName="quantity" value="{{ item.get('quantity').value }}" />

                                            </td>

                                            <td style="width: 100px">
                                                <button (click)="removeGoodsRow($index)" mat-icon-button color="accent">
                                                            <mat-icon aria-label="Delete" >delete</mat-icon>
                                                          </button>
                                            </td>

                                        </tr>
                                    </tbody>
                                </table>
                            </form>
                        </mat-card-content>
                        <mat-card-actions><button mat-button (click)="saveForm(goodsForm.value)">Save</button>
                            <button mat-button (click)="goBack() ">Back</button>
                        </mat-card-actions>
                    </mat-card>
                </div>
            </div>
            <bs-footer></bs-footer>
        </div>
    </div>
</div>